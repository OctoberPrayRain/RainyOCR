# RainyOCR —— 游戏文本 OCR 翻译工具

**设计与实现方案文档（当前版本）**

## 1. 项目背景与目标

### 1.1 背景

在游玩 **Galgame、RPGMaker 等含大量外文文本的游戏**时，频繁切换翻译工具会严重影响体验。本项目旨在提供一个 **桌面端辅助工具** ，通过快捷键快速截取游戏文本区域，并调用**线上大模型 API**完成 OCR + 翻译。

### 1.2 目标

* **快捷、低干扰** ：不需要实时扫描，只在用户按下快捷键时翻译
* **模型可配置** ：用户可自行填写 API Key / Base URL / Model
* **跨平台开发，优先 Windows 可用**
* **工程结构清晰，便于后续扩展**

---

## 2. 功能需求概述

### 2.1 核心功能（MVP）

* 支持一次性 **框选屏幕区域并保存**
* 通过快捷键对**已保存区域**进行翻译
* 调用**线上多模态模型**完成：
  * 图像中文字提取（OCR）
  * 翻译为目标语言（默认中文）
* 在 **独立的小窗口（Popup）** 中显示翻译结果

### 2.2 非目标（当前阶段不做）

* 不追求复杂的版面结构化 OCR（段落 / bbox / 表格）
* 不做真正的“实时逐帧翻译”
* 不处理游戏内文本 hook（仅截图方式）

---

## 3. 总体技术方案

### 3.1 技术栈选型

| 模块       | 技术                     |
| ---------- | ------------------------ |
| 语言       | Python 3.13.11           |
| UI 框架    | PySide6（Qt for Python） |
| 依赖管理   | uv                       |
| 截屏       | mss                      |
| HTTP 请求  | httpx                    |
| 相似度去重 | rapidfuzz（可选但推荐）  |
| 配置存储   | JSON（标准库）           |

**选择理由：**

* PySide6 非常适合做：
  * 全屏遮罩选区
  * 无边框、置顶小窗口
* 线上模型可减少本地依赖，降低复杂度
* uv 提供快速、稳定、可复现的 Python 环境
